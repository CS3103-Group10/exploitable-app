import { Router, Request, Response } from "express";

const router: Router = Router();

router.get("/payments/:tid", async (req: Request, res: Response) => {
  const tid = req.params.tid;
  // TODO: give error when TID is invalid

  return res.render("index", {
    layout: false,
    paymentTo: "Flora",
    productName: "PRODUCT", // TODO
    productCost: 134, // TODO
  });
});

// POST request - make a payment
router.post("/payments/:tid", async (req: Request, res: Response) => {
  const tid = req.params.tid;

  res.json({
    message: "ACK",
  });
});

export default router;
